### 热身

在JavaScript中，能够检查数据类型的方式一共有三种，分别是 `typeof关键字` 、 `instanceof关键字` 以及 `toString()` 。在实际场景中，需要根据数据类型是原始值还是引用值进行选择不同的判断方式，同时需要注意一些使用细节。

### typeof

该关键字能够全部区分原始值，但是对于引用值判断时只能区分出来 Object` 与 `Function` 两种类型。因此通常只有在判断原始值时使用typeof，使用时需要注意以下几个问题：

- `null` 的检测结果为`"Object"`
- 对于未声明的变量使用`typeof`通常会返回`"undefined"`不会报错，但如果存在暂时性死区（let 和 const创建的）时，会抛出找不到变量的错误。

[🚀🚀🚀埋坑：暂时性死区]()

### instanceof

该关键字判断类型的原理是通过检查操作符右侧的构造函数所关联的原型，是否出现在操作符左侧对象的原型链中。因此其使用场景通常是如下两种情况：

- 是否为实例关系
- 是否为继承关系

在实际开发中，需要注意一个细节点：由于JavaScript是一门动态脚本语言，所以并不能保证该操作符判断结果一直正确。例如当构造函数原型被重写，或者对象原型链被修改都会导致操作符结果有偏差。

[🚀🚀🚀埋坑：原型链修改方式？拓展原型链的方式又有哪些？]()

### toString

每个对象都有一个 `toString()` 方法，当该对象被表示为一个文本值时，或者一个对象以预期的字符串方式引用时自动调用。

如果此方法在自定义对象中未被覆盖，`toString()` 返回 "[object *type*]"，其中 `type` 是对象的类型。

因此可以用来判断数据类型，但是需要注意原型链遮蔽问题。

所以在实际开发中需要以 `Function.prototype.call()` 或者 `Function.prototype.apply()` 的形式来调用（防止上述的原型链遮蔽效果出现。），传递要检查的对象作为第一个参数，称为 `thisArg`。

[🚀🚀🚀埋坑：原型链遮蔽效果？还有什么特点？]()

[🚀🚀🚀埋坑：call、apply方法有什么区别？如何模拟实现以下？]()